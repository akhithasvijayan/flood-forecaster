<!DOCTYPE html>
<html>
<head>
  <title>Flood Risk Prediction</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f8;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 900px;
      margin: 30px auto;
      background: #ffffff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    h2 {
      margin-top: 0;
      text-align: center;
      color: #2c3e50;
    }

    p {
      text-align: center;
      color: #555;
    }

    #map {
      height: 400px;
      width: 100%;
      border-radius: 8px;
      margin: 15px 0;
    }

    .form-group {
      display: flex;
      gap: 20px;
      margin-bottom: 15px;
    }

    .form-group div {
      flex: 1;
    }

    label {
      font-weight: bold;
      display: block;
      margin-bottom: 5px;
      color: #333;
    }

    input {
      width: 100%;
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #ccc;
      font-size: 14px;
    }

    button {
      width: 100%;
      padding: 10px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
    }

    button:hover {
      background-color: #0056b3;
    }

    #output {
      margin-top: 15px;
      padding: 12px;
      border-radius: 6px;
      background: #eef2f5;
      font-weight: bold;
      color: #2c3e50;
      white-space: pre-line;
    }
  </style>
</head>

<body>

<div class="container">

  <h2>Flood Risk Prediction System</h2>
  <p>Select a location on the map and enter environmental details</p>

  <div id="map"></div>

  <div class="form-group">
    <div>
      <label>Rainfall (mm)</label>
      <input type="number" id="rainfall">
    </div>

    <div>
      <label>Water Level (cm)</label>
      <input type="number" id="waterlevel">
    </div>
  </div>

  <button onclick="checkFloodRisk()">Check Flood Risk</button>

  <div id="output"></div>

</div>

<script>
  let map;
  let marker;
  let selectedLat;
  let selectedLng;

  function initMap() {
    map = new google.maps.Map(document.getElementById("map"), {
      center: { lat: 20.5937, lng: 78.9629 },
      zoom: 5
    });

    map.addListener("click", function(event) {
      selectedLat = event.latLng.lat();
      selectedLng = event.latLng.lng();

      if (marker) marker.setMap(null);

      marker = new google.maps.Marker({
        position: event.latLng,
        map: map
      });
    });
  }

  function checkFloodRisk() {
    const rain = Number(document.getElementById("rainfall").value);
    const water = Number(document.getElementById("waterlevel").value);

    if (!marker) {
      alert("Please select a location on the map");
      return;
    }

    let risk;
    let color;

    if (rain > 80 && water > 50) {
      risk = "HIGH FLOOD RISK";
      color = "red";
    } else if (rain > 50) {
      risk = "MODERATE FLOOD RISK";
      color = "yellow";
    } else {
      risk = "SAFE";
      color = "green";
    }

    marker.setIcon(
      "http://maps.google.com/mapfiles/ms/icons/" + color + "-dot.png"
    );

    document.getElementById("output").innerText =
      "Risk Level: " + risk +
      "\nLatitude: " + selectedLat.toFixed(4) +
      "\nLongitude: " + selectedLng.toFixed(4);
  }
</script>

<script
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAkEpQBLFGlkIzP_39t2xik-YtOMN0E8e0&callback=initMap"
  async defer>
</script>

</body>
</html>